<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#fabd2f" />
  <link rel="canonical" href="https:&#x2F;&#x2F;enriquekesslerm.com&#x2F;blog&#x2F;open-or-raise-emacs&#x2F;" />

  <title>
     Open or Raise Emacs - enriquekesslerm.com
    
  </title>

  <link rel="stylesheet" href="https://enriquekesslerm.com/style.css" />
  
    
      <link rel="stylesheet" href="https://enriquekesslerm.com/custom.css" />
    
  

  
    <link rel="icon" type="image/png" href="https://enriquekesslerm.com/favicon.png" />
  
  <link rel="apple-touch-icon" sizes="180x180" href="https://enriquekesslerm.com/apple-touch-icon.png" />
  <link rel="me" href="https://mstdn.social/@qkessler" />

  <!-- Open Graph -->
  <meta property="og:site_name" content="enriquekesslerm.com" />
  <meta property="og:title" content="
     Open or Raise Emacs - enriquekesslerm.com
    " />
  <meta property="og:url" content="https:&#x2F;&#x2F;enriquekesslerm.com&#x2F;blog&#x2F;open-or-raise-emacs&#x2F;" />
  <meta property="og:description" content="AppleScript to open or raise emacs running in the background as a daemon." />
  <meta property="og:image" content="https://enriquekesslerm.com/card.png" />
</head>
<body>
  <nav class="nav">
  <div class="nav-container">
    <a href="https:&#x2F;&#x2F;enriquekesslerm.com">
      
        <i class="bi bi-house-fill"></i>
      
      enriquekesslerm.com
    </a>
    <ul>
      
        <li>
          <a href="&#x2F;blog">
            
              
                <i class="bi bi-journal-bookmark-fill"></i>
              
            
            Blog
          </a>
        </li>
      
        <li>
          <a href="&#x2F;projects">
            
              
                <i class="bi bi-motherboard"></i>
              
            
            Projects
          </a>
        </li>
      
        <li>
          <a href="&#x2F;about">
            
              
                <i class="bi bi-person-badge"></i>
              
            
            About
          </a>
        </li>
      
      
        <li>
          <a href="https:&#x2F;&#x2F;enriquekesslerm.com/atom.xml">
            
              <i class="bi bi-rss-fill"></i>
            
            Feed
          </a>
        </li>
      
    </ul>
  </div>
</nav>
<div class="container">
  
<script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />
<script src="https://enriquekesslerm.com/js/site.js"></script>

<h1>Open or Raise Emacs</h1>
  <small>
    <time datetime='2022-04-17T00:00:00+00:00' pubdate>2022-04-17</time>
        â€¢
          <a class="pill" href="https://enriquekesslerm.com/tags/emacs/">
            <i class="bi bi-tag-fill"></i>
            emacs
          </a>&nbsp;
          <a class="pill" href="https://enriquekesslerm.com/tags/software/">
            <i class="bi bi-tag-fill"></i>
            software
          </a>&nbsp;
  </small>









<p>I use <a rel="noopener" target="_blank" href="https://www.keyboardmaestro.com/main/">Keyboard maestro</a> to Activate the applications I use the most, with the intention of reducing hand movement I endure every day. In my normal developing workflow, I would start working with Emacs to do my first Inbox Review, I would then open up the browser to search for anything while developing and I would then want to go back to Emacs to keep developing. Everything works with a keypress and following <a rel="noopener" target="_blank" href="https://www.merriam-webster.com/dictionary/mnemonics">mnemonics</a> to make the keys easier to remember.</p>
<p>The latter is the part that I have been interested in improving. I use the Emacs client-server approach to have a fast running Emacs instance at all times. If I would want to close Emacs, I would be back to an open instance instantly.</p>
<p>The problem with Emacs is that having the server running, we can't use the application condition with Keyboard maestro, since we already have an open application, even if it's running in the background.</p>
<p>The idea is then run an Apple script as the condition to check whether the Emacs process is running (and not the Emacs window) to launch the Emacs client, or only activate the window that is already there. To do so, I would want to use an Apple Script to grep for the background process.</p>
<p>Here is the script that I use as condition:</p>
<pre data-lang="applescript" style="background-color:#282828;color:#fdf4c1aa;" class="language-applescript "><code class="language-applescript" data-lang="applescript"><span style="color:#fa5c4b;">tell </span><span style="color:#8ec07c;">application </span><span style="color:#b8bb26;">&quot;System Events&quot;
</span><span>    </span><span style="color:#fa5c4b;">set </span><span style="color:#fdf4c1;">emacsWindowsCount </span><span style="color:#fa5c4b;">to </span><span style="color:#fabd2f;">count </span><span style="color:#fa5c4b;">of</span><span> window </span><span style="color:#d3869b;">1 </span><span style="color:#fa5c4b;">of </span><span>(processes </span><span style="color:#fe8019;">whose </span><span style="color:#fabd2f;">name </span><span style="color:#fe8019;">is </span><span style="color:#b8bb26;">&quot;Emacs&quot;</span><span>)
</span><span>    </span><span style="color:#fa5c4b;">if</span><span> emacsWindowsCount </span><span style="color:#fe8019;">is </span><span style="color:#d3869b;">0 </span><span style="color:#fa5c4b;">then
</span><span>        </span><span style="color:#fa5c4b;">error number </span><span style="color:#d3869b;">-1
</span><span>    </span><span style="color:#fa5c4b;">end if
</span><span style="color:#fa5c4b;">end tell
</span></code></pre>
<p>And here is the Keyboard maestro macro I ended up with. The LauchEmacsClient is an application that I created with Automator to just call the <code>emacsclient</code> binary with the buffer I want to start with.</p>
<p><img src="https://enriquekesslerm.com/blog/open-or-raise-emacs/images/activate-emacs-macro.png" alt="img" title="Activate Emacs keyboard maestro macro." /></p>
<p>If anyone is interested in the <code>.kmmacros</code> file, ping me on <a href="mailto:enrique.kesslerm@gmail.com">email</a>.</p>





  
  
  <h2>
    Read Previous
  </h2>
  <a class="link-page" href="https:&#x2F;&#x2F;enriquekesslerm.com&#x2F;blog&#x2F;sequelize&#x2F;">
    Diving deep into Sequelize
  </a>
  


<p class="dialog-buttons">
  <a href="#top" class="inline-button">Go to top</a>
  <a href="https:&#x2F;&#x2F;github.com&#x2F;Qkessler&#x2F;enriquekesslerm.com&#x2F;issues">File an issue</a>
</p>
</div>
  <footer class="footer">
  
    <p title="Last built at 2023-11-24 19:08 +01:00">&copy; enriquekesslerm.com, 2023</p>
  

  
    <p><a href="https:&#x2F;&#x2F;github.com&#x2F;Qkessler&#x2F;enriquekesslerm.com">Website source</a></p>
  

  
    <p><small>Powered by <a href="https://www.getzola.org">Zola</a> and <a href="https://duckquill.exozy.me">Duckquill</a></small></p>
  

  
</footer>
</body>

</html>
